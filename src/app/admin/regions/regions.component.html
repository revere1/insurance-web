<button type="button" class="btn btn-primary pull-right" data-toggle="modal" data-target="#myModal1" data-backdrop="static"
  data-keyboard="false" (click)="create();">
  Create</button>
<button class="btn btn-success pull-right margin-r10" (click)="download()">CSV export</button>
<div id="myModal1" class="modal fade" *ngIf="createform">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Regions CreateForm</h4>
      </div>
      <div class="modal-body">
        <form [formGroup]="regionsForm" (ngSubmit)="saveRegion()">
          <div class="col-md-12">
            <div class="form-group">
              <label for="title">Name</label>
              <input id="title" type="text" class="form-control" formControlName="name">
              <div class="text-danger" *ngIf="regionsForm.get('name').dirty && regionsForm.get('name').invalid">
                please enter region name
              </div>
            </div>
            <div class="form-group" style="padding-left:5%">
              <button type="submit" class="btn btn-primary" [disabled]="regionsForm.invalid">Submit</button>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- Update -->
<div id="myModal" class="modal fade" *ngIf="showModel">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Update Form</h4>
      </div>
      <div class="modal-body">
        <form [formGroup]="regionsForm" (ngSubmit)="updateRegion(regionspopup.id)">
          <div class="col-md-12">
            <div class="form-group">
              <label for="title">Name</label>
              <input id="title" type="text" class="form-control" formControlName="name" [(ngModel)]="regionspopup.name">
              <div class="text-danger" *ngIf="regionsForm.get('name').dirty && regionsForm.get('name').invalid">
                please enter region name
              </div>
            </div>
            <div class="form-group" style="padding-left:5%">
              <button type="submit" class="btn btn-primary" [disabled]="regionsForm.invalid">Update</button>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Regions List Display -->

<br><br>
<div class="table-responsive">

  <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover table table-bordered">
    <thead>
      <tr>
        <th>Name</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let region of regions">
        <td>{{ region.name }}</td>
        <td>
          <a (click)="deleteRegion(region.id)"><i class="fa fa-trash"></i></a> /
          <a data-toggle="modal" data-target="#myModal" data-backdrop="static" data-keyboard="false" (click)="modelopen(region.id)"><i
              class="fa fa-pencil"></i></a>
        </td>
      </tr>
      <tr *ngIf="regions?.length == 0">
        <td colspan="3" class="no-data-available">No data!</td>
      </tr>
    </tbody>
  </table>
</div>